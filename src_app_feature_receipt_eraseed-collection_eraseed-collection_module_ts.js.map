{"version":3,"file":"src_app_feature_receipt_eraseed-collection_eraseed-collection_module_ts.js","mappings":"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","sources":["./src/app/feature/receipt/eraseed-collection/eraseed-collection-routing.module.ts","./src/app/feature/receipt/eraseed-collection/eraseed-collection.module.ts","./src/app/feature/receipt/eraseed-collection/eraseed-collection/eraseed-collection.component.ts","./src/app/feature/receipt/eraseed-collection/eraseed-collection/eraseed-collection.component.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ACTION } from 'src/app/enums/action.enum';\r\n\r\nimport { EraseedCollectionComponent } from './eraseed-collection/eraseed-collection.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: EraseedCollectionComponent,\r\n\r\n    data: {\r\n      title: \"Eraseed Collection\",\r\n      permission: [\r\n        // ACTION.ADD,\r\n        ACTION.EVERY\r\n      ],\r\n    }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class EraseedCollectionRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { EraseedCollectionRoutingModule } from './eraseed-collection-routing.module';\r\nimport { EraseedCollectionComponent } from './eraseed-collection/eraseed-collection.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    EraseedCollectionComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    SharedModule,\r\n    EraseedCollectionRoutingModule\r\n  ]\r\n})\r\nexport class EraseedCollectionModule { }\r\n","import { Component, OnInit ,Injector} from '@angular/core';\r\nimport { URLz } from 'src/app/enums/url.enum';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { FormArray, FormControl, FormGroup } from '@angular/forms';\r\nimport { environment } from 'src/environments/environment';\r\nimport Swal from 'sweetalert2';\r\nimport {Observable } from 'rxjs';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport {SwalService } from '../../../../service/swal.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { CollectionConfirmationComponent } from 'src/app/shared/components/dialogs/collection-confirmation/collection-confirmation.component';\r\nimport { MatDialogConfig } from '@angular/material/dialog';\r\nimport { BaseForm } from 'src/app/class/base.form';\r\n\r\n@Component({\r\n  selector: 'di-component-name-here',\r\n  templateUrl: './eraseed-collection.component.html',\r\n  styleUrls: ['./eraseed-collection.component.css']\r\n})\r\nexport class EraseedCollectionComponent extends BaseForm implements OnInit {\r\n\r\n  // form: FormGroup;\r\n  public componentName : string;\r\n  public wajibaTotal: number = 0;\r\n  public nafilaTotal: number = 0;\r\n  public totalSum : number = 0;\r\n  public showTable = false;\r\n  public displayedEraseedCol = [\r\n    'S No',\r\n    'Select',\r\n    'Payment Mode',\r\n    'Purpose',\r\n    'Receipt No',\r\n    'Amount',\r\n    'Item',\r\n    'Weight/Quantity',\r\n    'Description',\r\n    'Donation Category',\r\n    'Donation Type',\r\n    'Branches',\r\n    'Additional Info',\r\n    'Receipt Row Date',\r\n  ];\r\n  public dataSourceEraseed = new MatTableDataSource();\r\n  constructor(\r\n    injector : Injector,\r\n    _activeRoute: ActivatedRoute,\r\n    ) {\r\n    super(injector);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.initForm();\r\n    this._fhs._pathLocation = '/knock_off';\r\n    this.componentName = \"E-Raseed Collection\";\r\n  }\r\n\r\n  initForm() {\r\n    this._fs._form = this._fb.group({\r\n      receipt_type: [''],\r\n      ou:[''],\r\n      eraseed_ids: this._fb.array([]),\r\n    });\r\n  }\r\n\r\n  getErseedData(event : any){\r\n    if((this._fs._form.get('eraseed_ids') as FormArray) != null){\r\n      (this._fs._form.get('eraseed_ids') as FormArray).clear();\r\n    }\r\n    let selectedPerArr: FormArray = this._fs._form.get('eraseed_ids') as FormArray;\r\n    this._fs._form.get('receipt_type').patchValue(event.receipt_type);\r\n    this._fs._form.get('ou').patchValue(event.ou);\r\n    this._http.get({\r\n      url: environment.API_URL,\r\n      endpoint: URLz.E_RASEED_COLLECTION,\r\n      query: {\r\n        bg:event.bg,\r\n        le:event.le,\r\n        ou:event.ou,\r\n        person_id:event.userId,\r\n        receipt_type:event.receipt_type,\r\n      }\r\n    }).subscribe({\r\n      next: (res : any)=>{\r\n        this.dataSourceEraseed.data = res?.data?.records;\r\n        if(res?.data?.records?.length > 0 && res?.data?.records !== undefined){\r\n          this.wajibaTotal = 0;\r\n          this.nafilaTotal = 0;\r\n          this.totalSum = 0\r\n          res.data.records.forEach(val => {\r\n            if(val.checked){\r\n              selectedPerArr.push(new FormControl(val.id));\r\n            }\r\n          });\r\n        }\r\n        res?.data?.records.length > 0 ? (this.showTable = true) : (\r\n          this.showTable = false,\r\n          this._swl.noDataFound()\r\n        );\r\n      },\r\n      error: (httpErrorResponse: HttpErrorResponse) => {\r\n        this._vs._error_server(httpErrorResponse);\r\n        this.showTable = false;\r\n      }\r\n    })\r\n  }\r\n\r\n  AmountTotal(donationType, amount, d_mode ,condition) {\r\n    if(d_mode == 1 || d_mode == 2 || d_mode == 4){\r\n      if (condition) {\r\n        if (donationType == 'wajiba') {\r\n          this.wajibaTotal = this.wajibaTotal + amount;\r\n        }\r\n        else if (donationType == 'nafila') {\r\n          this.nafilaTotal = this.nafilaTotal + amount;\r\n        }\r\n        this.getUserAmount(this.wajibaTotal,this.nafilaTotal);\r\n      }\r\n      else if (!condition) {\r\n        if (donationType == 'wajiba') {\r\n          this.wajibaTotal = this.wajibaTotal - amount;\r\n        }\r\n        else if (donationType == 'nafila') {\r\n          this.nafilaTotal = this.nafilaTotal - amount;\r\n        }\r\n        this.getUserAmount(this.wajibaTotal,this.nafilaTotal);\r\n      }\r\n    }\r\n  }\r\n\r\n  getUserAmount(totalOne , totalTwo){\r\n    this.totalSum = totalOne + totalTwo;\r\n  }\r\n\r\n  _onSubmit() {\r\n    this._fs._form.markAllAsTouched();\r\n    this._vs._submitted = true;\r\n    if (this._fs._form.valid) {\r\n      Swal.fire({\r\n        title: this._translate.instant('Are you sure?'),\r\n        text: this._translate.instant(\"You won't be able to revert this!\"),\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: this._translate.instant(\"Yes, Proceed!\"),\r\n        cancelButtonText: this._translate.instant(\"Cancel\")\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n            let modify: Observable<any>;\r\n            modify = this._http.create({body : this._fs._form.value , url: environment.API_URL , endpoint: URLz.E_RASEED_COLLECTION});\r\n            modify.subscribe({\r\n              next: (res) => {\r\n                let heading = 'Collected'\r\n                let message = res?.message\r\n                let ack_no = res.data.records[0].ack_no;\r\n                let receipt_type = res.data.records[0].receipt_type;\r\n                this.confirmationDialog(heading, message ,ack_no , receipt_type)\r\n              },\r\n              error: (httpErrorResponse: HttpErrorResponse) => {\r\n                this._vs._error_server(httpErrorResponse.error);\r\n              }}\r\n            );\r\n            this._vs._submitted = false;\r\n        }\r\n      })\r\n    } else {\r\n      return this._fs._form.valid;\r\n    }\r\n  }\r\n\r\n  confirmationDialog(heading, message ,ack_no , receipt_type) {\r\n    let config: MatDialogConfig = {\r\n      panelClass: \"dialog-responsive\",\r\n      data: {heading, message ,ack_no,receipt_type}\r\n    }\r\n    const dialogRef = this._dialog.open(CollectionConfirmationComponent, config);\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      this._fs._form.reset();\r\n      this._fhs.reloadComponent();\r\n    });\r\n  }\r\n\r\n\r\n\r\n}\r\n","\r\n<div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <div class=\"card card__styling\">\r\n        <div class=\"card-header custom__card__body__styling\">\r\n          <h2 class=\"card-title mb-0\">\r\n            {{ 'E-Raseed Collection' | translate }}\r\n          </h2>\r\n        </div>\r\n        <hr style=\"border-top: 0px !important;\">\r\n            <ul class=\"amount-totals\">\r\n              <li>\r\n                {{'Wajiba Amount' | translate}} : <span>{{wajibaTotal}} </span>\r\n              </li>\r\n              <li>\r\n                {{'Nafila Amount' | translate}} : <span>{{nafilaTotal}} </span>\r\n              </li>\r\n              <li>\r\n                {{'Total Amount' | translate}} : <span>{{totalSum}} </span>\r\n              </li>\r\n            </ul>\r\n        <hr style=\"border-top: 0px !important;\">\r\n        <e-raseed-filter (filterData)=\"getErseedData($event)\"></e-raseed-filter>\r\n        <div class=\"card-body pt-0\" *ngIf=\"showTable\">\r\n            <form [formGroup]=\"_fs._form\" (ngSubmit)=\"_onSubmit()\">\r\n              <div class=\"mat_table\">\r\n                <table mat-table [dataSource]=\"dataSourceEraseed\">\r\n                    <ng-container matColumnDef=\"S No\">\r\n                      <th mat-header-cell class=\"px-3 z__index__0\"  *matHeaderCellDef translate> S No </th>\r\n                      <td mat-cell class=\"px-3\" *matCellDef=\"let item; let i = index\"> {{i + 1}} </td>\r\n                    </ng-container>\r\n\r\n                    <ng-container matColumnDef=\"Select\">\r\n                      <th mat-header-cell class=\"px-3 z__index__0\"  *matHeaderCellDef > {{'Select' | translate}} </th>\r\n                      <td mat-cell class=\"px-3\" *matCellDef=\"let item; let i = index\">\r\n                          <div class=\"custom-control custom-checkbox\">\r\n                            <input type=\"checkbox\" #checkboxes class=\"custom-control-input\" [checked]='item?.checked'  id=\"{{item.recd_tranno}}\" [(value)]=\"item.id\" (click)=\"_fhs._checkBoxChecked($event,'eraseed_ids');AmountTotal(item?.donation_category, item?.amount ,item?.donationMode,$event.target.checked)\">\r\n                            <label class=\"custom-control-label\" ></label>\r\n                          </div>\r\n                      </td>\r\n                    </ng-container>\r\n\r\n                    <ng-container matColumnDef=\"Payment Mode\">\r\n                      <th mat-header-cell class=\"px-3 z__index__0\"  *matHeaderCellDef> {{'Payment Mode' | translate}} </th>\r\n                      <td mat-cell class=\"px-3\" *matCellDef=\"let item\">{{item?.donationMode == 1 || item?.donationMode == 2 ? 'Cash/Cheque' : 'Material'}} </td>\r\n                    </ng-container>\r\n\r\n\r\n                    <ng-container matColumnDef=\"Purpose\">\r\n                        <th mat-header-cell class=\"px-3 z__index__0\"  *matHeaderCellDef> {{'Purpose' | translate}} </th>\r\n                        <td mat-cell class=\"px-3\" *matCellDef=\"let item\"> {{item?.purpose?.title }} </td>\r\n                    </ng-container>\r\n\r\n                    <ng-container matColumnDef=\"Receipt No\">\r\n                        <th mat-header-cell class=\"px-3 z__index__0\"  *matHeaderCellDef> {{'Receipt No' | translate}} </th>\r\n                        <td mat-cell class=\"px-3\" *matCellDef=\"let item\"> {{item?.receipt_number }} </td>\r\n                    </ng-container>\r\n\r\n\r\n                    <ng-container matColumnDef=\"Amount\">\r\n                        <th mat-header-cell class=\"px-3 z__index__0\"  *matHeaderCellDef> {{'Amount' | translate}} </th>\r\n                        <td mat-cell class=\"px-3\"  *matCellDef=\"let item\">{{item?.amount}}</td>\r\n                    </ng-container>\r\n\r\n                    <ng-container matColumnDef=\"Item\">\r\n                        <th mat-header-cell class=\"px-3 z__index__0\"  *matHeaderCellDef> {{'Item' | translate}} </th>\r\n                        <td mat-cell class=\"px-3\" *matCellDef=\"let item\"> {{item?.item?.title }} </td>\r\n                    </ng-container>\r\n\r\n                    <ng-container matColumnDef=\"Weight/Quantity\">\r\n                      <th mat-header-cell class=\"px-3 z__index__0\"  *matHeaderCellDef>{{'Weight/Quantity' | translate}}</th>\r\n                      <td mat-cell class=\"px-3\" *matCellDef=\"let item\"> {{item?.qty }} </td>\r\n                    </ng-container>\r\n\r\n                    <ng-container matColumnDef=\"Description\">\r\n                      <th mat-header-cell class=\"px-3 z__index__0\"  *matHeaderCellDef> {{'Description' | translate}} </th>\r\n                      <td mat-cell class=\"px-3\" *matCellDef=\"let item\"> {{item?.description}} </td>\r\n                    </ng-container>\r\n\r\n                    <ng-container matColumnDef=\"Donation Category\">\r\n                      <th mat-header-cell class=\"px-3 z__index__0\"  *matHeaderCellDef> {{'Donation Category' | translate}} </th>\r\n                      <td mat-cell class=\"px-3\" *matCellDef=\"let item\"> {{item?.donation_category }} </td>\r\n                    </ng-container>\r\n\r\n                    <ng-container matColumnDef=\"Donation Type\">\r\n                      <th mat-header-cell class=\"px-3 z__index__0\"  *matHeaderCellDef> {{'Donation Type' | translate}} </th>\r\n                      <td mat-cell class=\"px-3\" *matCellDef=\"let item\"> {{item?.donation_type?.title }} </td>\r\n                    </ng-container>\r\n\r\n                    <ng-container matColumnDef=\"Branches\">\r\n                      <th mat-header-cell class=\"px-3 z__index__0\"  *matHeaderCellDef> {{'Branches' | translate}} </th>\r\n                      <td mat-cell class=\"px-3\" *matCellDef=\"let item\"> {{item?.branch?.title }} </td>\r\n                    </ng-container>\r\n\r\n                    <ng-container matColumnDef=\"Additional Info\">\r\n                      <th mat-header-cell class=\"px-3 z__index__0\"  *matHeaderCellDef> {{'Additional Information' | translate}} </th>\r\n                      <td mat-cell class=\"px-3\" *matCellDef=\"let item\"> {{item?.additionalInfo }} </td>\r\n                    </ng-container>\r\n\r\n                    <ng-container matColumnDef=\"Receipt Row Date\">\r\n                      <th mat-header-cell class=\"px-3 z__index__0\"  *matHeaderCellDef> {{'Receipt Row Date' | translate}} </th>\r\n                      <td mat-cell class=\"px-3\" *matCellDef=\"let item\"> {{item?.date | date: 'dd/MM/yyyy' }} </td>\r\n                    </ng-container>\r\n\r\n                    <tr mat-header-row *matHeaderRowDef=\"displayedEraseedCol ; sticky: true\"\r\n                      [ngClass]=\"{'eng__font': _ss.lng === 'en', 'urdu__font' : _ss.lng === 'ur' }\">\r\n                    </tr>\r\n                    <tr mat-row *matRowDef=\"let row; columns: displayedEraseedCol;\"></tr>\r\n                </table>\r\n              </div>\r\n              <div class=\"card-body\">\r\n                <div class=\"action-form\">\r\n                  <div class=\"form-group m-b-0 text-right\">\r\n                    <button mat-raised-button  type=\"submit\"\r\n                    [disabled]=\"!_fhs._disableBtn('eraseed_ids')\"\r\n                    [ngClass]=\"{'eng__font': _ss.lng === 'en', 'urdu__font' : _ss.lng === 'ur' }\"\r\n                    class=\"btn btn-info waves-effect waves-light\">{{'Process' | translate}}</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n"],"names":[],"sourceRoot":"webpack:///"}