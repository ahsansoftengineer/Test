{"version":3,"file":"src_app_feature_assigning-collectors_assigning-collectors_module_ts.js","mappings":"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","sources":["./src/app/feature/assigning-collectors/assigning-collectors-routing.module.ts","./src/app/feature/assigning-collectors/assigning-collectors.component.ts","./src/app/feature/assigning-collectors/assigning-collectors.component.html","./src/app/feature/assigning-collectors/assigning-collectors.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ACTION } from 'src/app/enums/action.enum';\r\n\r\nimport { AssigningCollectorsComponent } from './assigning-collectors.component';\r\nconst routes: Routes = [\r\n  {\r\n    path:'' ,\r\n    component : AssigningCollectorsComponent,\r\n\r\n    data: {\r\n      title: \"Assigning Collectors\",\r\n      permission: [\r\n        ACTION.ADD,\r\n        ACTION.EDIT,\r\n      ],\r\n    }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AssigningCollectorsRoutingModule { }\r\n","import { Component, OnInit, Injector } from '@angular/core';\r\nimport { URLz } from 'src/app/enums/url.enum';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { BaseForm } from 'src/app/class/base.form';\r\n\r\n@Component({\r\n  selector: 'di-component-name-here',\r\n  templateUrl: './assigning-collectors.component.html',\r\n  styleUrls: ['./assigning-collectors.component.css'],\r\n})\r\nexport class AssigningCollectorsComponent extends BaseForm implements OnInit{\r\n  public componentName: string;\r\n  public non_Collector_Array: Array<any> = [];\r\n  public table_list: Array<any> = [];\r\n  public filter_object: object = {};\r\n  public showTable = false;\r\n  form : FormGroup\r\n\r\n  public displayedCol = ['S No', 'Collectors', 'Non-Collectors', 'Actions'];\r\n\r\n  public dataSource = new MatTableDataSource();\r\n\r\n  constructor(injector: Injector, _activeRoute: ActivatedRoute) {\r\n    super(injector);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.componentName = 'Assigning Collectors';\r\n    this.initForm();\r\n  }\r\n\r\n  initForm() {\r\n    this.form = this._fb.group({\r\n      id: [''],\r\n      user_id: [''],\r\n    });\r\n  }\r\n\r\n  getData(event: any) {\r\n    this.filter_object = event;\r\n    this._http.get({\r\n      endpoint: URLz.SEARCH_COLLECTOR,\r\n      query: {\r\n        bg:event.bg,\r\n        le:event.le,\r\n        ou:event.ou,\r\n        su:event.su != undefined ? event.su : '',\r\n        organisation_id:event.organisation_id,\r\n        system_id:event.system_id,\r\n      }\r\n    }).subscribe((res: any) => {\r\n      this.table_list = res.data.records;\r\n      this.dataSource.data = this.table_list;\r\n      res?.data?.records.length > 0 ? (this.showTable = true) : (\r\n        this.showTable = false,\r\n        this._swl.noDataFound()\r\n      );\r\n    });\r\n  }\r\n\r\n  getNonCollectors(event: any) {\r\n    this._http.get({\r\n      endpoint: URLz.NON_COLLECTORS,\r\n      query: {\r\n        bg:event.bg,\r\n        le:event.le,\r\n        ou:event.ou,\r\n        su:event.su != undefined ? event.su : '',\r\n        organisation_id:event.organisation_id,\r\n        system_id:event.system_id,\r\n      }\r\n    }).subscribe((res: any) => {\r\n      this.non_Collector_Array = res.data.records;\r\n    });\r\n  }\r\n\r\n  assignCollector(val, id, buttonref) {\r\n    if (val == undefined) {\r\n      this._swl.genericSwal('please select the non-collector','warning','');\r\n    } else {\r\n      this.form.get('id').patchValue(id);\r\n      this.form.addControl('user_id', new FormControl(''));\r\n      this.form.get('user_id').patchValue(val);\r\n      this.onSubmit(URLz.ASSIGN, 'Assigned');\r\n    }\r\n  }\r\n\r\n  removeCollector(id) {\r\n    this.form.get('id').patchValue(id);\r\n    this.form.removeControl('user_id');\r\n    this.onSubmit(URLz.REMOVE_ASSIGN, 'Unassigned');\r\n  }\r\n\r\n  onSubmit(url, title) {\r\n    this.form.markAllAsTouched();\r\n    this._vs._submitted = true;\r\n    if (this.form.valid || true) {\r\n      this._http.create({body: this.form.value , endpoint: url}).subscribe({\r\n        next: (res: any) => {\r\n          this._swl.swal(title, res.message).then((res) => {\r\n              this.form.reset();\r\n            });\r\n            if (!!res.data) {\r\n              this.dataSource.data = this._swl.UpdateObject(\r\n                this.table_list,\r\n                res.data\r\n              );\r\n            }\r\n        },\r\n        error: (httpErrorResponse: HttpErrorResponse) => {\r\n            this._vs._error_server(httpErrorResponse.error);\r\n        }\r\n      });\r\n      this._vs._submitted = false;\r\n    } else {\r\n      return this.form.valid;\r\n    }\r\n  }\r\n}\r\n","<div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <div class=\"card card__styling\">\r\n        <div class=\"card-header custom__card__body__styling\">\r\n          <h2 class=\"card-title mb-0\">\r\n            {{ 'Assigning Collectors' | translate }}\r\n          </h2>\r\n        </div>\r\n\r\n        <hr style=\"border-top: 0px !important;\">\r\n\r\n        <hirarchy-filter (filterData)=\"getData($event); getNonCollectors($event)\"></hirarchy-filter>\r\n\r\n        <div class=\"card-body pt-0\">\r\n          <form [formGroup]=\"_fs._form\">\r\n            <div class=\"mat_table\">\r\n              <table mat-table *ngIf=\"showTable\" [dataSource]=\"dataSource\">\r\n                  <ng-container matColumnDef=\"S No\">\r\n                    <th mat-header-cell class=\"px-2\"  *matHeaderCellDef translate> S No </th>\r\n                    <td mat-cell class=\"px-2\" *matCellDef=\"let item; let i = index\"> {{i + 1}} </td>\r\n                  </ng-container>>\r\n\r\n                  <ng-container matColumnDef=\"Collectors\">\r\n                      <th mat-header-cell class=\"px-2 w-custom\"  *matHeaderCellDef> {{'Collector' | translate}} </th>\r\n                      <td mat-cell class=\"px-2\" *matCellDef=\"let item\"> {{item?.collector }} </td>\r\n                  </ng-container>\r\n\r\n                  <ng-container matColumnDef=\"Non-Collectors\">\r\n                    <th mat-header-cell class=\"px-2 w-custom\"  *matHeaderCellDef>{{'Non-Collector' | translate}}</th>\r\n                    <td mat-cell class=\"px-2\" *matCellDef=\"let item\"> {{item?.non_collector }} </td>\r\n                  </ng-container>\r\n\r\n                  <ng-container matColumnDef=\"Actions\">\r\n                    <th mat-header-cell class=\"px-2\"  *matHeaderCellDef>{{'Actions' | translate}}</th>\r\n                    <td mat-cell class=\"px-2\" *matCellDef=\"let item\">\r\n\r\n                      <div class=\"custom-actions\">\r\n                        <select placeholder=\"Non-Collector\" #nonCollector class=\"custom__select__class\">\r\n                          <option *ngFor=\"let arr of non_Collector_Array\" [value]=\"arr.id\">\r\n                            {{arr.name}}\r\n                          </option>\r\n                        </select>\r\n                          <!-- <ng-select placeholder=\"Non-Collector\" #nonCollector>\r\n                            <ng-option *ngFor=\"let arr of non_Collector_Array\" [value]=\"arr.id\" >\r\n                              {{arr.name}}\r\n                            </ng-option>\r\n                          </ng-select>  -->\r\n                        <button class=\"cutom-close\" id=\"{{item?.id}}\" #sucessAssign\r\n                        (click)=\"assignCollector(nonCollector.value , item?.id, sucessAssign)\">\r\n                          <i class=\"icon-check\"></i>\r\n                        </button>\r\n                        <button\r\n                        class=\"cutom-close\"  id=\"{{item?.id}}\"  (click)=\"removeCollector(item?.id)\">\r\n                          <i class=\"icon-close\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </ng-container>\r\n\r\n                  <tr mat-header-row *matHeaderRowDef=\"displayedCol; sticky:true\"\r\n                  [ngClass]=\"{'eng__font': _ss.lng === 'en', 'urdu__font' : _ss.lng === 'ur' }\">\r\n                  </tr>\r\n                  <tr mat-row *matRowDef=\"let row; columns: displayedCol;\"></tr>\r\n              </table>\r\n            </div>\r\n            <!-- <div class=\"card-body\">\r\n              <div class=\"action-form\">\r\n                <div class=\"form-group m-b-0 text-right\">\r\n                  <button mat-raised-button  type=\"submit\" class=\"btn btn-info waves-effect waves-light\">Process</button>\r\n                </div>\r\n              </div>\r\n            </div> -->\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { AssigningCollectorsRoutingModule } from './assigning-collectors-routing.module';\r\nimport { AssigningCollectorsComponent } from './assigning-collectors.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AssigningCollectorsComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    SharedModule,\r\n    AssigningCollectorsRoutingModule\r\n  ]\r\n})\r\nexport class AssigningCollectorsModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}